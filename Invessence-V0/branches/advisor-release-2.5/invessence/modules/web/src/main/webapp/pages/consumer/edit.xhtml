<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
</h:head>

<f:metadata>
    <f:viewParam name="acct" value="#{cepb.beanAcctnum}"/>
    <f:event type="preRenderView" listener="#{cepb.preRenderView}"/>
</f:metadata>

<h:body>
    <ui:composition template="/template/common/layout.xhtml">
        <ui:define name="content">
            <div id="main-content" class="content_section" style="background-color: #f5f5f5; padding: 5px;">
                <div id="wrapper" class="container">
                    <h:form id="advisorEditForm">
                        <p:growl id="advisorEditgrowl" showDetail="true" sticky="true" escape="true" />
                        <div class="divAdvEntry">
                            <div class="divAdvRow">
                                <div class="divAdvImage">
                                    <p:commandLink update=":custDialogForm:profileDataEntryid" onclick="PF('custProfileDialog').show();">
                                        <p:graphicImage value="/images/settings_user-128.png" width="40" height="40"/>
                                    </p:commandLink>
                                </div>
                                <div class="divAdvSecond" style="vertical-align: top">
                                    <h:outputLabel value="Saving for"
                                                  styleClass="invLabel" style="vertical-align: top; font-weight: bold"/>
                                    &nbsp;
                                    <p:selectOneMenu value="#{cepb.accountType}"
                                                     update=":advisorEditForm">
                                        <p:ajax listener="#{cepb.selectedAccountType}" update="@form"/>
                                        <f:selectItem itemLabel="Retirement" itemValue="Retirement"/>
                                        <f:selectItem itemLabel="Generate Income" itemValue="Income"/>
                                        <f:selectItem itemLabel="Grow Wealth" itemValue="Wealth"/>
                                    </p:selectOneMenu>
                                    <img alt="Edit" src="/images/Pencil-icon.png" style="height: 8px; width: 8px;"/>
                                </div>
                                <div class="divAdvThird">
                                    <p:inplace>
                                        <f:facet name="output">
                                            <h:outputText value="#{cepb.defaultAge}"
                                                          styleClass="invLabel" style="width:110px; font-size: 1.2em"/>
                                            <img alt="Edit" src="/images/Pencil-icon.png" style="height: 8px; width: 8px;"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <p:inputText styleClass="invInput" style="width:35px; font-size: 1.2em"
                                                         value="#{cepb.age}"
                                                         maxlength="3" size="3">
                                                <pe:keyFilter regEx="/[\d]/"/>
                                                <p:ajax event="blur" listener="#{cepb.refresh}" update="@form"/>
                                            </p:inputText>
                                        </f:facet>
                                    </p:inplace>
                                </div>
                                <div class="divAdvFourth">
                                    <p:inplace>
                                        <f:facet name="output">
                                            <h:outputText value="#{cepb.defaultInvestment}"
                                                          styleClass="invLabel"  style="width:110px; font-size: 1.2em"
                                                          size="8" maxlength="9">
                                                <f:convertNumber pattern="$ #,###,###"/>
                                            </h:outputText>
                                            <img alt="Edit" src="/images/Pencil-icon.png" style="height: 8px; width: 8px;"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <pe:inputNumber styleClass="invInput" style="width:110px; font-size: 1.2em"
                                                            value="#{cepb.initialInvestment}"
                                                            symbol="$ " decimalPlaces="0" thousandSeparator=","
                                                            size="8" maxlength="9">
                                                <p:ajax event="blur" listener="#{cepb.refresh}" update="@form"/>
                                            </pe:inputNumber>
                                        </f:facet>
                                    </p:inplace>
                                </div>
                                <div class="divAdvFifth">
                                    <p:inplace>
                                        <f:facet name="output">
                                            <h:outputText value="#{cepb.defaultRiskIndex}"
                                                          styleClass="invLabel" style="width:110px; font-size: 1.2em"/>
                                            <img alt="Edit" src="/images/Pencil-icon.png" style="height: 8px; width: 8px;"/>
                                        </f:facet>
                                        <f:facet name="input">
                                            <pe:inputNumber styleClass="invInput" style="width:110px; font-size: 1.2em"
                                                            value="#{cepb.defaultRiskIndex}"
                                                            minValue="0" maxValue="10" decimalPlaces="0"
                                                            maxlength="2" size="2">
                                                <p:ajax event="blur" listener="#{cepb.refresh}" update="@form"/>
                                            </pe:inputNumber>
                                        </f:facet>
                                    </p:inplace>
                                </div>
                                <div class="divAdvSixth">
                                    <p:graphicImage id="profileHelpImg" value="/images/Cute-Ball-Help-icon.png"
                                                    style="cursor:pointer; width:20px; height:20px" title="Help"/>
                                    <p:overlayPanel id="profileHelpPanel" for="profileHelpImg"
                                                    showEffect="blind" hideEffect="explode" showEvent="mouseover"
                                                    dismissable="true" showCloseIcon="true" dynamic="true">
                                        <p:scrollPanel mode="native"
                                                       style="width:250px;height:250px; background: #fff;">
                                            <p:fieldset legend="Profile" toggleable="true" toggleSpeed="500">
                                                <p:ajax event="toggle"/>
                                                <h:panelGrid columns="2" cellpadding="5" style="vertical-align: top">
                                                    <p:graphicImage value="/images/settings_user-128.png"/>
                                                    <h:outputText
                                                            value="Use this Icon to Create/Edit account.  Each Portfolio is created with Unique username.  All data must be filled in order to create valid account for this portfolio.">

                                                    </h:outputText>
                                                </h:panelGrid>
                                            </p:fieldset>
                                            <p:fieldset legend="Panel" toggleable="true" toggleSpeed="500">
                                                <p:ajax event="toggle"/>
                                                <h:panelGrid columns="1" cellpadding="5">
                                                    <strong>Saving for</strong>
                                                    <ul>
                                                        <li>
                                                            Retirement - The porfolio is created as non-taxable long term strategy. Assumed age of retirement is considered to be 65. If you wish to over-ride this option, please use the profile settings.
                                                        </li>
                                                        <li>
                                                            Build Wealth - This is a long term taxable strategy of 10+ years of investment. One can change the "Investment Strategy" to match your investment goals.
                                                        </li>
                                                        <li>
                                                            Safety Net - This is a short term taxable strategy of less then 10 years of investment. One can change the "Investment Strategy" to match your investment goals.
                                                        </li>

                                                    </ul>

                                                    <strong>Investment Strategy</strong>
                                                    <h:outputText
                                                            value="These are options provided for creating a specialized investment strategy.  Core is default recommended strategy."/>
                                                </h:panelGrid>
                                            </p:fieldset>

                                        </p:scrollPanel>
                                    </p:overlayPanel>
                                </div>

                            </div>
                            <div class="divAdvRow">
                                <div class="divAdvImage">
                                </div>
                                <div class="divAdvSecond" style="vertical-align: top">
                                    <h:outputLabel value="Investment Strategy"
                                                   styleClass="invLabel"
                                                   style="vertical-align: top; font-weight: bold"/>
                                    &nbsp;
                                    <p:selectOneMenu value="#{cepb.thisBasket}"
                                                     required="false">
                                        <p:ajax listener="#{cepb.refresh}" update="@form"/>
                                        <f:selectItems value="#{cepb.advisorBasket.entrySet()}"
                                                       var="bskt" itemLabel="#{bskt.value}" itemValue="#{bskt.key}"/>
                                    </p:selectOneMenu>
                                    <img alt="Edit" src="/images/Pencil-icon.png" style="height: 8px; width: 8px;"/>

                                </div>
                                <div class="divAdvThird">
                                    Age
                                </div>
                                <div class="divAdvFourth">
                                    Investment
                                </div>
                                <div class="divAdvFifth">
                                    Risk
                                </div>
                                <div class="divAdvSixth">
                                    <p:commandLink actionListener="#{cepb.saveProfile}"
                                                   update="@form">
                                        <p:graphicImage value="/images/checkmark.png" alt="Save" title="Save"
                                                        style="width: 20px; height: 20px"/>
                                    </p:commandLink>
                                </div>
                            </div>

                        </div>

                        <p:layout style="min-height:550px;" styleClass="invNBgrid">
                            <p:layoutUnit position="center" height="550" scrollable="true" style="border: none;">
                                <p:layout style="border: none;">
                                    <p:messages autoUpdate="true"/>
                                    <p:layoutUnit position="west" resizable="true" size="400" minSize="100" maxSize="600"
                                                  style="border: none;">
                                        <ui:include src="/pages/consumer/graphs.xhtml"/>
                                    </p:layoutUnit>

                                    <p:layoutUnit position="center" style="border: none;">
                                        <ui:include src="/pages/consumer/details.xhtml"/>
                                    </p:layoutUnit>

                                </p:layout>
                            </p:layoutUnit>
                        </p:layout>

                        <!-- ui-grid -->
                        <p:layoutUnit position="south" size="90" resizable="true"
                                      styleClass="dataEntryPanel">
                            <p:panel style="text-align: right">
                                <p:commandButton value="Save" icon="ui-icon-checkmark"
                                                 actionListener="#{cepb.saveProfile}"/>

                            </p:panel>
                        </p:layoutUnit>

                    </h:form>

                    <ui:include src="/pages/consumer/addProfileDialogs.xhtml"/>

                </div>
            </div>


        </ui:define>
    </ui:composition>

</h:body>
</html>


