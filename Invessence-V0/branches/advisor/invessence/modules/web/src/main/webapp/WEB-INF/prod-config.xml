<http auto-config="true" access-denied-page="/AccessDenied.xhtml">

   <form-login login-page="/login.xhtml" default-target-url="${ssl.url}/manageAccount.xhtml"
              always-use-default-target="true"/>

   <!--  Active pages -->
   <intercept-url pattern="/javax.faces.resource/*" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/javax.faces.resource/**" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/images/**" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/css/**" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/login.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/createInvestment.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/manageAccount.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/managegoals.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/manageallocation.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/managePortfolio.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/debtandliabilities.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/risktolerance.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/approvePortfolio.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />

   <!--  Admin pages  -->
   <intercept-url pattern="/admin.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />

   <!--  Account Take on process - Disabled  -->
   <intercept-url pattern="/createAccount.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/accountholder.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/contactinformation.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/financialprofile.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/employmentprofile.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/sourceoffund.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/updateAccounts.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/incomeandsavings.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />

   <!--  Test Pages - Disabled  -->
   <intercept-url pattern="/adminPage.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/chartTest.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/chartTest2.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/test1.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/test1.jsp" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/test2.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/test2.jsp" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/setPassword.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/manageportfolio2.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/manageportfolio2.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />
   <intercept-url pattern="/manageAccount.xhtml" access="IS_AUTHENTICATED_ANONYMOUSLY" requires-channel="https" />

   <logout logout-success-url="${apache.url}"/>

   <intercept-url pattern="/**" access="ROLE_USER"/>
   <session-management invalid-session-url="${tomcat.url}/index.xhtml"/>
   <remember-me key="${tomcat.url}"/>
</http>

