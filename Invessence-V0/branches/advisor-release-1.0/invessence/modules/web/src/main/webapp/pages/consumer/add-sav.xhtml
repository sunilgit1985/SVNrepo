<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
</h:head>

<f:metadata>
    <f:viewParam name="acct" value="#{cepb.beanAcctnum}"/>
    <f:event type="preRenderView" listener="#{cepb.preRenderView}"/>
</f:metadata>

<h:body>
    <ui:composition template="/template/common/layout.xhtml">
        <ui:define name="content">
            <div id="main-content" class="content_section" style="background-color: #f5f5f5; padding: 5px;">
                <div id="wrapper" class="container">
                    <h:form id="advisorEditForm">
                        <p:growl id="advisorEditgrowl" showDetail="true" sticky="true" escape="true" />
                        <div class="divAdvEntry">
                            <div class="divAdvRow">
                                <div class="divAdvImage">
                                    <div class="divSubLine1">
                                    <p:commandLink update=":custDialogForm:profileDataEntryid" onclick="PF('custProfileDialog').show();">
                                        <p:graphicImage value="/images/settings_user-128.png" width="40" height="40"/>
                                    </p:commandLink>
                                    </div>
                                    <div class="divSubLine2">
                                        <p:graphicImage id="profileHelpImg" value="/images/Cute-Ball-Help-icon.png"
                                                        style="cursor:pointer; width:20px; height:20px" title="Help"/>
                                        <p:overlayPanel id="profileHelpPanel" for="profileHelpImg" style="background: #fff;"
                                                        showEffect="blind" hideEffect="explode" showEvent="mouseover" hideEvent="mousedown"
                                                        dismissable="true" showCloseIcon="true" dynamic="true">
                                            <p:scrollPanel mode="native"
                                                           style="width:250px;height:250px; background: #fff;">
                                                <p:fieldset legend="Profile" toggleable="true" toggleSpeed="500">
                                                    <p:ajax event="toggle"/>
                                                    <h:panelGrid columns="2" cellpadding="5" style="vertical-align: top">
                                                        <p:graphicImage value="/images/settings_user-128.png" width="40" height="40"/>
                                                        <h:outputText
                                                                value="Use this Icon to Create/Edit account.  Create unique portfolio name to manage. ">

                                                        </h:outputText>
                                                    </h:panelGrid>
                                                </p:fieldset>
                                                <p:fieldset legend="Panel" toggleable="true" toggleSpeed="500">
                                                    <p:ajax event="toggle"/>
                                                    <h:panelGrid columns="1" cellpadding="5">
                                                        <strong>Saving for</strong>
                                                        <ul>
                                                            <li>
                                                                Retirement - The porfolio is created as non-taxable long term strategy. Assumed age of retirement is considered to be 65. If you wish to over-ride this option, please use the profile settings.
                                                            </li>
                                                            <li>
                                                                Build Wealth - This is a long term taxable strategy of 10+ years of investment. One can change the "Investment Strategy" to match your investment goals.
                                                            </li>
                                                            <li>
                                                                Safety Net - This is a short term taxable strategy of less then 10 years of investment. One can change the "Investment Strategy" to match your investment goals.
                                                            </li>

                                                        </ul>

                                                        <strong>Investment Strategy</strong>
                                                        <h:outputText
                                                                value="These are options provided for creating a specialized investment strategy.  Core is default recommended strategy."/>
                                                    </h:panelGrid>
                                                </p:fieldset>

                                            </p:scrollPanel>
                                        </p:overlayPanel>
                                    </div>
                                </div>
                                <div class="divAdvSecond" style="vertical-align: top">
                                    <div class="divSubLine1">
                                        <h:outputLabel value="Saving for "
                                                       styleClass="invLabel" style="vertical-align: top; font-weight: bold"/>
                                        <p:selectOneMenu value="#{cepb.accountType}"
                                                         update=":advisorEditForm">
                                            <p:ajax listener="#{cepb.selectedAccountType}" update="@form"/>
                                            <f:selectItem itemLabel="Retirement" itemValue="Retirement"/>
                                            <f:selectItem itemLabel="Build Wealth" itemValue="Long-Term"/>
                                            <f:selectItem itemLabel="Safety Net" itemValue="Short-Term"/>
                                        </p:selectOneMenu>
                                        <img alt="Edit" src="/images/Pencil-icon.png" style="height: 8px; width: 8px;"/>
                                    </div>
                                    <div class="divSubLine2">
                                        <h:outputLabel value="Investment Strategy "
                                                       styleClass="invLabel"
                                                       style="vertical-align: top; font-weight: bold"/>

                                        <p:selectOneMenu value="#{cepb.thisBasket}"
                                                         required="false">
                                            <p:ajax listener="#{cepb.refresh}" update=":advisorEditForm:dataLayout"/>
                                            <f:selectItems value="#{cepb.advisorBasket.entrySet()}"
                                                           var="bskt" itemLabel="#{bskt.value}" itemValue="#{bskt.key}"/>
                                        </p:selectOneMenu>
                                        <img alt="Edit" src="/images/Pencil-icon.png" style="height: 8px; width: 8px;"/>
                                    </div>
                                </div>
                                <div class="divAdvThird">
                                    <div class="divSubLine1">
                                        <p:inplace>
                                            <f:facet name="output">
                                                <h:outputText value="#{cepb.defaultInvestment}"
                                                              styleClass="invLabel"  style="width:110px; font-size: 1.2em"
                                                              size="8" maxlength="9">
                                                    <f:convertNumber pattern="$ #,###,###"/>
                                                </h:outputText>
                                                <img alt="Edit" src="/images/Pencil-icon.png" style="height: 8px; width: 8px;"/>
                                            </f:facet>
                                            <f:facet name="input">
                                                <pe:inputNumber styleClass="invInput" style="width:110px; font-size: 1.2em"
                                                                value="#{cepb.initialInvestment}"
                                                                symbol="$ " decimalPlaces="0" thousandSeparator=","
                                                                size="8" maxlength="9">
                                                    <p:ajax event="blur" listener="#{cepb.refresh}" update=":advisorEditForm:dataLayout"/>
                                                </pe:inputNumber>
                                            </f:facet>
                                        </p:inplace>
                                    </div>
                                    <div class="divSubLine2">
                                        <h:outputLabel value="Investment" style="vertical-align: top; text-align: center"/>
                                    </div>
                                </div>
                                <div class="divAdvFourth">
                                    <div class="divSubLine1">
                                        <p:slider for="ageSlider" minValue="20" maxValue="100"  style="font-size: 1.2em;"
                                                  step="1">
                                            <p:ajax event="slideEnd" listener="#{cepb.ageSlider}" update=":advisorEditForm:dataLayout"/>
                                        </p:slider>
                                        <h:inputHidden id="ageSlider" value="#{cepb.age}" />
                                    </div>
                                    <div class="divSubLine2">
                                        <h:outputLabel value="Allocation" style="text-align: center"/>
                                    </div>
                                </div>
                                <div class="divAdvFifth">
                                    <div class="divSubLine1">
                                        <p:slider for="riskSlider" minValue="1" maxValue="10" style="font-size: 1.2em;"
                                                  step="1" >
                                            <p:ajax event="slideEnd" listener="#{cepb.riskSlider}" update=":advisorEditForm:dataLayout"/>
                                        </p:slider>
                                        <h:inputHidden id="riskSlider" value="#{cepb.displayRiskIndex}"  />
                                    </div>
                                    <div class="divSubLine2">
                                        <h:outputLabel value="Risk" style="text-align: center"/>
                                    </div>
                                </div>
                                <div class="divAdvSixth">
                                    <div class="divSubLine1">
                                    </div>
                                    <div class="divSubLine2">
                                        <p:commandLink actionListener="#{cepb.saveProfile}"
                                                       update="@form">
                                            <p:graphicImage value="/images/checkmark.png" alt="Save" title="Save"
                                                            style="width: 20px; height: 20px"/>
                                        </p:commandLink>
                                    </div>

                                </div>

                            </div>

                        </div>
                        <div  class="divDataArea">
                            <p:outputPanel id="dataLayout" deferred="true">
                                <div class="divGraphArea">
                                    <ui:include src="/pages/consumer/graphs.xhtml"/>
                                </div>
                                <div class="divDetailArea">
                                    <p:scrollPanel mode="native" style="height:550px">
                                        <ui:include src="/pages/consumer/details.xhtml"/>
                                    </p:scrollPanel>
                                </div>
                            </p:outputPanel>
                        </div>

                        <div>
                            <p:panel style="text-align: right">
                                <p:commandButton value="Next" icon="ui-icon-checkmark"
                                                 actionListener="#{cepb.NextPage}"/>

                            </p:panel>

                        </div>
                        <!-- ui-grid -->
                    </h:form>

                    <ui:include src="/pages/consumer/addProfileDialogs.xhtml"/>

                </div>
            </div>


        </ui:define>
    </ui:composition>

</h:body>
</html>


