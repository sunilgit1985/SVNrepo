<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
</h:head>

<h:body>
                    <h:form id="form">
                        <p:commandButton id="movieBtn" value="Dynamic" type="button" />
                        <p:overlayPanel id="moviePanel" for="movieBtn" hideEffect="fade" dynamic="true">
                            <h:form id="overlayForm">
                                <p:panelGrid  columns="2">
                                    <h:outputText value="Porfolio Name:" />
                                    <p:inputText
                                            id="pninputID" widgetVar="pninputVar" required="true" label="label" size="30"
                                            value="#{addBean.portfolioName}">
                                    </p:inputText>

                                    <h:outputText value="Portfolio Type:" />
                                    <p:selectOneMenu
                                                     value="#{addBean.investmentType}">
                                        <f:selectItem itemLabel="Investment Type" itemValue="" />
                                        <f:selectItems value="#{addBean.investmentChoice}" />
                                    </p:selectOneMenu>

                                    <h:outputText value="Age: " />
                                    <pe:inputNumber styleClass="invInput"
                                                    value="#{addBean.age}"
                                                    required="true"
                                                    validatorMessage="Age must be between 15 to 100"
                                                    decimalPlaces="0">

                                        <f:validateDoubleRange minimum="15" maximum="100"/>
                                    </pe:inputNumber>

                                    <h:outputText value="Investment:" />
                                    <pe:inputNumber styleClass="invInput"
                                                    value="#{addBean.investment}"
                                                    required="true"
                                                    validatorMessage="Min investment required is $5,000"
                                                    symbol="$" decimalPlaces="0">

                                        <f:validateDoubleRange minimum="5000"/>
                                    </pe:inputNumber>
                                    <p:commandButton value="Save" oncomplete="PF('moviePanel').hide()"/>
                                    <p:commandButton value="Cancel" oncomplete="PF('moviePanel').hide()"/>
                                </p:panelGrid>

                            </h:form>
                        </p:overlayPanel>

                        <p:panelGrid  columns="2">
                            <h:outputText value="Porfolio Name:" />
                            <p:inputText
                                    id="pninputID" widgetVar="pninputVar" required="true" label="label" size="30"
                                    value="#{addBean.portfolioName}">
                            </p:inputText>

                            <h:outputText value="Portfolio Type:" />
                            <p:selectOneMenu style="font-size: 1.2em; margin: 3px;"
                                             value="#{addBean.investmentType}">
                                <f:selectItem itemLabel="Investment Type" itemValue="" />
                                <f:selectItems value="#{addBean.investmentChoice}" />
                            </p:selectOneMenu>

                            <h:outputText value="Age: " />
                            <pe:inputNumber styleClass="invInput" style="width: 40px; font-size: 1.2em; margin: 3px;"
                                            value="#{addBean.age}"
                                            required="true"
                                            validatorMessage="Age must be between 15 to 100"
                                            decimalPlaces="0">

                                <f:validateDoubleRange minimum="15" maximum="100"/>
                            </pe:inputNumber>

                            <h:outputText value="Investment:" />
                            <pe:inputNumber styleClass="invInput" style="width: 120px; font-size: 1.2em; margin: 3px;"
                                            value="#{addBean.investment}"
                                            required="true"
                                            validatorMessage="Min investment required is $5,000"
                                            symbol="$" decimalPlaces="0">

                                <f:validateDoubleRange minimum="5000"/>
                            </pe:inputNumber>
                            <p:commandButton value="Save" oncomplete="PF('moviePanel').hide()"/>
                            <p:commandButton value="Cancel" oncomplete="PF('moviePanel').hide()"/>
                        </p:panelGrid>

                        <h3 style="margin-top: 0">Overlay</h3>
                        <p:dataTable id="basicDT" var="car" value="#{addBean.cars}">
                            <f:facet name="header">
                                DataTable Integration
                            </f:facet>
                            <p:column headerText="Id">
                                <h:outputText value="#{car.id}" />
                            </p:column>
                            <p:column headerText="Year">
                                <h:outputText value="#{car.year}" />
                            </p:column>
                            <p:column headerText="Brand">
                                <h:outputText value="#{car.brand}" />
                            </p:column>
                            <p:column headerText="Color">
                                <h:outputText value="#{car.color}" />
                            </p:column>
                            <p:column style="width:32px;text-align: center">
                                <p:commandButton update=":form:carDetail" onclick="PF('carOP').show()" icon="ui-icon-search" title="View">
                                    <f:setPropertyActionListener value="#{car}" target="#{addBean.selectedCar}" />
                                </p:commandButton>
                            </p:column>
                        </p:dataTable>

                        <p:overlayPanel widgetVar="carOP" showEffect="fade" hideEffect="fade" dismissable="false" showCloseIcon="true">
                            <p:outputPanel id="carDetail" style="text-align:center;">
                                <p:panelGrid  columns="2" columnClasses="label,value">
                                    <f:facet name="header">
                                        <p:graphicImage name="demo/images/car/#{addBean.selectedCar.brand}-big.gif"/>
                                    </f:facet>

                                    <h:outputText value="Id:" />
                                    <h:outputText value="#{addBean.selectedCar.id}" />

                                    <h:outputText value="Year" />
                                    <h:outputText value="#{addBean.selectedCar.year}" />

                                    <h:outputText value="Color:" />
                                    <h:outputText value="#{addBean.selectedCar.color}" style="color:#{addBean.selectedCar.color}"/>

                                    <h:outputText value="Price" />
                                    <h:outputText value="$#{addBean.selectedCar.price}" />
                                </p:panelGrid>
                            </p:outputPanel>
                        </p:overlayPanel>
                    </h:form>
</h:body>
</html>


