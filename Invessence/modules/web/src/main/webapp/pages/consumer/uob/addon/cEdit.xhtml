<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<script type="text/javascript">
	$(function () {
	// Create the chart
	var chartValue = document.getElementById('ceForm:pTabView1:beanValueChart').value;
	var tmpvalue= $.parseJSON(chartValue);
	console.log(chartValue+""+tmpvalue);
	Highcharts.chart('container3', {
	chart: {
	type: 'pie'
	},
	title: {
	text: ''
	},
	subtitle: {

	},
	plotOptions: {

	series: {
	allowPointSelect: true,// remove if using details level details part
	cursor: 'pointer',
	dataLabels: {
	enabled: true,
	format: '{point.name}'
	}
	}
	},

	tooltip: {
	headerFormat: '{point.name}',
	pointFormat: '<span style="color:{point.color}"></span><b>$</b><b>{point.amount} - </b> <b>{point.y:.2f}%</b><br/>'
	},
	series: [{
	name: 'Brands',
	colorByPoint: true,
	data: tmpvalue
	}],
		/*drilldown: { // remove comments if using details level details part
	series: [{
	name: 'Fixed Income',
	id: 'Fixed Income',
	data: [
	['LENDX', 0.5]
	]
	}, {
	name: 'Domestic Equity',
	id: 'Domestic Equity',
	data: [
	['VB',  0.01],
	['VTI', 0.01],
	['VTV', 0.01],
	['VUG', 0.01],
	['VYM', 0.13]
	]
	}, {
	name: 'Cash',
	id: 'Cash',
	data: [
	['VEA', 0.0],
	['VSS', 0.0]
	]
	}, {
	name: 'Alternatives',
	id: 'Alternatives',
	data: [
	['AGAZX', 0.11],
	['AVRPX', 0.11]
	]
	}, {
	name: 'Real Assets',
	id: 'Real Assets',
	data: [
	['VCMIX', 0.1]
	]
	}]
	}*/
	});
	});
	</script>

	<div class="Container100">
		<div class="Container50 Fleft Responsive100">
			<div class="ContainerIndent">
				<p:panel id="inputArea" style="border: 0px"
					styleClass="uob_Block_tabs">
					<p:tabView id="pTabView" activeIndex="#{uobpb.pTab}"
						styleClass="Container100 NBwidget" orientation="top"
						dynamic="false" cache="false" effect="slide" effectDuration="fast">
						<p:ajax event="tabChange"
							update=":ceForm:inputArea, :ceForm:graphArea"
							listener="#{uobpb.onPTabChange}" />
						<p:tab id="p1" title="Overview">
							<ui:include src="/pages/consumer/uob/addon/core0.xhtml" />
						</p:tab>
						<p:tab id="p2" title="Asset" style="padding-top: 10px;">
							<ui:include src="/pages/consumer/uob/addon/income.xhtml" />
						</p:tab>
						<p:tab id="p3" title="Liability">
							<ui:include src="/pages/consumer/uob/addon/debt.xhtml" />
						</p:tab>
						<p:tab id="p4" title="Risk">
							<p:tabView id="rTabView" orientation="top"
								activeIndex="#{uobpb.rTab}" styleClass="NBwidget whiteBG" cache="false"
								dynamic="false">
								<p:ajax event="tabChange" listener="#{uobpb.onRTabChange}" />
								<p:tab id="q1" title="1">
									<ui:include src="/pages/consumer/uob/addon/q1.xhtml" />
								</p:tab>
								<p:tab id="q2" title="2">
									<ui:include src="/pages/consumer/uob/addon/q2.xhtml" />
								</p:tab>
								<p:tab id="q3" title="3">
									<ui:include src="/pages/consumer/uob/addon/q3.xhtml" />
								</p:tab>
								<p:tab id="q4" title="4">
									<ui:include src="/pages/consumer/uob/addon/q4.xhtml" />
								</p:tab>
								<p:tab id="q5" title="5">
									<ui:include src="/pages/consumer/uob/addon/q5.xhtml" />
								</p:tab>
								<p:tab id="q6" title="6">
									<ui:include src="/pages/consumer/uob/addon/q6.xhtml" />
								</p:tab>
								<p:tab id="q7" title="7">
									<ui:include src="/pages/consumer/uob/addon/q7.xhtml" />
								</p:tab>
							</p:tabView>
						</p:tab>

					</p:tabView>
					<f:facet name="footer">
						<p:commandButton id="prevBtn" value="Previous"
							styleClass="Fleft Wid45 uob_button" rendered="#{uobpb.enablePrevButton}"
							update=":ceForm:inputArea, :ceForm:pTabView:rTabView, :ceForm:graphArea"
										 outcome="transition=slidefade"
							actionListener="#{uobpb.gotoPrevTab}" />
						<p:commandButton id="nextBtn" value="Next"
							styleClass="Fright Wid45 uob_button" rendered="#{uobpb.enableNextButton}"
							type="submit"
							outcome="transition=slidefade"
							update=":ceForm:inputArea, :ceForm:pTabView:rTabView, :ceForm:graphArea"
							actionListener="#{uobpb.gotoNextTab}" />
					</f:facet>
				</p:panel>
			</div>
		</div>
		<div class="Container50 Fleft Responsive100">
			<div class="ContainerIndent">
				<p:panel id="graphArea" style="border: 0px; background: white;">
					<p:tabView id="pTabView1" activeIndex="0"
							   styleClass="Container100 NBwidget uobPersonaliseGraphSection" orientation="top"
							   dynamic="false" cache="false" effect="slide" effectDuration="fast">
					<p:tab id="summarytab" title="Summary">
					<div class="Container100 Responsive100">
						<p:panel id="grphhdr" style="border: 0px; background: transparent"
							rendered="#{uobpb.hasReturn}">
							<div
								class="Wid45 BorderedBox Fleft TexAlCenter Mar10 MarLeft5 uob_Box">
								<div class="ContainerIndent">
									<div class="EmptyBox5"></div>
									<span class="Fs14 DispBlock gray">Investment Risk</span> <span
										class="Fs24 DispBlock red">
										 <h:outputText
											value="#{uobpb.totalRisk}">
											<f:convertNumber pattern="##0.00%" />
										</h:outputText>
									</span>
									<div class="EmptyBox5"></div>
								</div>
							</div>

							<div
								class="Wid45 BorderedBox Fright TexAlCenter Mar10 MarLeft5 uob_Box">
								<div class="ContainerIndent">
									<div class="EmptyBox5"></div>
									<span class="Fs14 DispBlock gray">Expected Return</span> <span
										class="Fs24 DispBlock invessenceblue"> <h:outputText
											value="#{uobpb.totalExpectedReturns}">
											<f:convertNumber pattern="##0.00%" />
										</h:outputText>
									</span>

									<div class="EmptyBox5"></div>
								</div>
							</div>
						</p:panel>
					</div>
						<div class="Container100">
							<!--<p:chart type="pie" model="#{uobpb.charts.pieChart}"
									 rendered="#{uobpb.charts.pieChart != null}" responsive="true" />-->

							<div id="container3"></div>
						</div>
						<h:inputHidden value="#{uobpb.resultChart}"
									   id="beanValueChart"/>
				</p:tab>
						<p:tab id="detailstab" title="Details">
							<!--<div class="ContainerIndent">
								<p:dataTable styleClass="uob_graphTable"
											 value="#{uobpb.editableAsset}" var="assetList">

									<p:column
											style="width: 2%; background-color: #{assetList.color};">
										<h:outputText value=" " />
									</p:column>

									<p:column styleClass="Wid40 Fs12 TexAlLeft" resizable="true"
											  headerText="Asset">
										&lt;!&ndash; PRAKASH's CHANGE &ndash;&gt;
										<h:outputText value="#{assetList.asset}" />
									</p:column>
									<p:column styleClass="Wid40 Fs12 num-text-align TexAlRight"
											  resizable="true" headerText="Weight">
										&lt;!&ndash; PRAKASH's CHANGE &ndash;&gt;
										<h:outputText value="#{assetList.userEdit}">
											<f:convertNumber pattern="##0.00%" />
										</h:outputText>
									</p:column>
								</p:dataTable>
							</div>-->
							<div class="ContainerIndent">
								<p:dataTable styleClass="uob_graphTable"
											 value="#{uobpb.editableAsset}"
											 var="assetList">

									<p:column style="width: 1%; background-color: #{assetList.color}; border:0px!important;">
										<h:outputText value=" "/>
									</p:column>

									<p:column styleClass="Wid40 Fs12 TexAlLeft"
											  headerText="Asset">
										<h:outputText value="#{assetList.asset}"/>
									</p:column>
									<p:column styleClass="Wid20 Fs12 num-text-align TexAlRight"
											  headerText="Weight"><!-- ROHIT's CHANGE -->
										<h:outputText value="#{assetList.userEdit}">
											<f:convertNumber pattern="##0.00%"/>
										</h:outputText>
									</p:column>
									<p:column styleClass="Wid30 Fs12 num-text-align TexAlRight"
											  headerText="Value"><!-- ROHIT's CHANGE -->
										<h:outputText value="#{assetList.value}">
											<f:convertNumber currencySymbol="$" type="currency"/>
										</h:outputText>
									</p:column>
									<p:columnGroup type="footer">
										<p:row>
											<p:column colspan="3" styleClass="Fs12 TexAlLeft FontBold"
													  footerText="Total">
											</p:column>
											<p:column styleClass="Fs12 TexAlRight FontBold"
													  footerText="#{dataDisplayConverter.displayAsMoney(uobpb.totalMoneyAllocated)}">
											</p:column>
										</p:row>
									</p:columnGroup>
								</p:dataTable>
							</div>
						</p:tab>
						</p:tabView>



				</p:panel>
					</div>
			</div>
		</div>

	<div class="Container100">
		<p style="font-style: italic; font-size: .8em; text-align: justify">
			This portfolio is designed for illustration purposes only. The
			cumulative value of the portfolio (net of fees) is based on the
			historical performance of the underlying securities and adjusted for
			changes in the asset allocation over time. It does not take in affect
			any tax withholdings or distributions. Past performance is no
			guarantee of future results. Any historical returns, expected
			returns, or probability projections may not reflect actual future
			performance. All securities involve risk and may result in loss. Not
			an offer, solicitation of an offer, or advice to buy or sell
			securities in jurisdictions where Invessence is not registered</p>
	</div>

</ui:composition>
