<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions"
                template="/template/common/template.xhtml">

    <ui:define name="content">
        <h:outputScript name="/js/ltamCharts.js" library="ltam"/>

        <!-- BOX START -->
        <h:form id="ceForm">
            <p:panel id="contentpanel" style="border: 0px; background: transparent">

                <div class="layout-portlets-box">
                    <div class="Container100">
                        <p:panel id="confirmArea" style="border: 0px; background: transparent; height: 270px">
                            <div class="Container100 TextAlCenter">
                                <div class="TexAlCenter">
                                    <h1 class="black Fs24 fnt1">Transferring fund</h1>
                                </div>

                                <p:panel style="height: 30%; width: 100%; background: #f5f5f5;">
                                    <h2 class="black Fs20 fnt1">Current Fund</h2>
                                    <table class="Container100 Responsive100 TextAlCenter">
                                        <tr>
                                            <td colspan="2" class="TexAlCenter">
                                                <div class="DispInlBlock TexAlLeft tp1">
                                                    <div class="Fright">
                                                        <h1 class="black Fs24 fnt1">
                                                            #{ceb.themeData.displayname}
                                                        </h1>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" class="TexAlCenter">
                                                <div class="DispInlBlock TexAlLeft tp1">
                                                    <div class="Fright">
                                                        <h2 class="black f1">#{ceb.themeData.longDescription}</h2>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </p:panel>
                                <div class="EmptyBox20"></div>

                                <p:panel style="height: 30%; width: 100%; background: #f5f5f5;">
                                    <h2 class="black Fs20 fnt1">Revised Fund</h2>
                                    <table class="Container100 Responsive100 TextAlCenter">
                                        <tr>
                                            <td colspan="2" class="TexAlCenter">
                                                <div class="DispInlBlock TexAlLeft tp1">
                                                    <div class="Fright">
                                                        <h1 class="black Fs24 fnt1">
                                                            <p:selectOneMenu styleClass="Wid90"
                                                                             value="#{ceb.theme}" >
                                                                <p:ajax listener="#{ceb.selectedTheme}"
                                                                        update=":ceForm:contentpanel,:ceForm:disclaimer"/>
                                                                <f:selectItems value="#{ceb.displaythememap.entrySet()}"
                                                                               var="themelist" itemLabel="#{themelist.value}"
                                                                               itemValue="#{themelist.key}"/>
                                                            </p:selectOneMenu>
                                                            #{ceb.themeData.displayname}
                                                        </h1>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2" class="TexAlCenter">
                                                <div class="DispInlBlock TexAlLeft tp1">
                                                    <div class="Fright">
                                                        <h2 class="black f1">#{ceb.themeData.longDescription}</h2>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="3">
                                                <div class="TexAlCenter title1">
                                                    Your revised risk level is
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="3">
                                                <div class="EmptyBox5"></div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="width: 10%; text-align: right; vertical-align: middle">Low</td>
                                            <td style="width: 80%; text-align: center; vertical-align: middle">
                                                <ui:repeat var="tlist" value="#{ceb.themeList}">
                                                    <h:graphicImage name="images/riskMeter.svg" library="ltam"
                                                                    rendered="#{ceb.themeData.sortorder != tlist.sortorder}"
                                                                    style="width: 20%; background: transparent"
                                                                    styleClass="Fleft"/>
                                                    <h:graphicImage name="images/SriskMeter.svg" library="ltam"
                                                                    rendered="#{ceb.themeData.sortorder == tlist.sortorder}"
                                                                    style="width: 20%; background: transparent"
                                                                    styleClass="Fleft"/>
                                                </ui:repeat>
                                            </td>
                                            <td style="width: 5%; text-align: left; vertical-align: middle">High</td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center">
                                                <p:chart type="pie" model="#{ceb.ltamcharts.pieChart}"
                                                         rendered="#{ceb.ltamcharts.pieChart != null}"
                                                         style="width:100%;height:210px;"
                                                         responsive="true">
                                                </p:chart>
                                            </td>
                                        </tr>
                                    </table>
                                </p:panel>

                                <table class="Container100 Responsive100 TextAlCenter">
                                    <tr>
                                        <td colspan="2" class="TexAlCenter">
                                            <div class="DispInlBlock TexAlLeft tp1">
                                                <div class="Fright">
                                                    <h1 class="black Fs24 fnt1">
                                                        #{ceb.themeData.displayname}
                                                    </h1>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" class="TexAlCenter">
                                            <div class="DispInlBlock TexAlLeft tp1">
                                                <div class="Fright">
                                                    <h2 class="black f1">#{ceb.themeData.longDescription}</h2>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">
                                            <div class="TexAlCenter title1">
                                                Your revised risk level is
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">
                                            <div class="EmptyBox5"></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 10%; text-align: right; vertical-align: middle">Low</td>
                                        <td style="width: 80%; text-align: center; vertical-align: middle">
                                            <ui:repeat var="tlist" value="#{ceb.themeList}">
                                                <h:graphicImage name="images/riskMeter.svg" library="ltam"
                                                                rendered="#{ceb.themeData.sortorder != tlist.sortorder}"
                                                                style="width: 20%; background: transparent"
                                                                styleClass="Fleft"/>
                                                <h:graphicImage name="images/SriskMeter.svg" library="ltam"
                                                                rendered="#{ceb.themeData.sortorder == tlist.sortorder}"
                                                                style="width: 20%; background: transparent"
                                                                styleClass="Fleft"/>
                                            </ui:repeat>
                                        </td>
                                        <td style="width: 5%; text-align: left; vertical-align: middle">High</td>
                                    </tr>
                                    <tr>
                                        <td style="text-align: center">
                                            <p:chart type="pie" model="#{ceb.ltamcharts.pieChart}"
                                                     rendered="#{ceb.ltamcharts.pieChart != null}"
                                                     style="width:100%;height:210px;"
                                                     responsive="true">
                                            </p:chart>
                                        </td>
                                    </tr>
                                </table>
                            </div>

                            <f:facet name="footer">
                                <p:commandButton styleClass="Fleft" value="Start Over"
                                                 update=":ceForm:contentpanel,:ceForm:disclaimer"
                                                 actionListener="#{ceb.startOver}"/>
                                <p:commandButton styleClass="Fright" value="Continue"
                                                 update=":ceForm:contentpanel,:ceForm:disclaimer"
                                                 actionListener="#{ceb.transact}"/>
                            </f:facet>
                        </p:panel>

                    </div>

                    <div class="Container50">
                        <p:panel style="border: 0px; background: transparent;">
                            <div class="Container100 TextAlCenter">
                                <div class="TexAlCenter">
                                    <h1 class="black Fs24 fnt1">#{ceb.firstname}, your current portfolio is:</h1>
                                </div>

                                <table class="Container100  TextAlCenter">
                                    <tr>
                                        <td colspan="2" class="TexAlCenter">
                                            <div class="DispInlBlock TexAlLeft tp1">
                                                <div class="Fright">
                                                    <h1 class="black Fs24 fnt1">#{ceb.themeData.displayname}</h1>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" class="TexAlCenter">
                                            <div class="DispInlBlock TexAlLeft tp1">
                                                <div class="Fright">
                                                    <h2 class="black f1">#{ceb.themeData.longDescription}</h2>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">
                                            <div class="TexAlCenter title1">
                                                Your current risk level is
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="3">
                                            <div class="EmptyBox5"></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width: 10%; text-align: right; vertical-align: middle">Low</td>
                                        <td style="width: 80%; text-align: center; vertical-align: middle">
                                            <ui:repeat var="tlist" value="#{ceb.themeList}">
                                                <h:graphicImage name="images/riskMeter.svg" library="ltam"
                                                                rendered="#{ceb.themeData.sortorder != tlist.sortorder}"
                                                                style="width: 20%; background: transparent"
                                                                styleClass="Fleft"/>
                                                <h:graphicImage name="images/SriskMeter.svg" library="ltam"
                                                                rendered="#{ceb.themeData.sortorder == tlist.sortorder}"
                                                                style="width: 20%; background: transparent"
                                                                styleClass="Fleft"/>
                                            </ui:repeat>
                                        </td>
                                        <td style="width: 5%; text-align: left; vertical-align: middle">High</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <p:chart type="pie" model="#{ceb.ltamcharts.pieChart}"
                                                     rendered="#{ceb.ltamcharts.pieChart != null}"
                                                     style="width:100%;height:210px;"
                                                     responsive="true">
                                            </p:chart>
                                        </td>
                                    </tr>
                                </table>
                            </div>

                        </p:panel>
                    </div>
                </div>

            </p:panel>

            <p:outputPanel id="disclaimer" style="border: 0px"
                           rendered="#{uiLayout.prodMode}">
                <div class="layout-portlets-box">
                    <div class="Container100 Responsive100">
                        <div class="Container100 Responsive100">
                            <div class="ContainerIndent Responsive100">
                                <div class="Fs12 TexAlCenter">
                                    <ui:fragment rendered="#{ceb.pagemanager.page == 1}">
                                        <h:outputText value="#{uiLayout.getPageInfo(ceb.pagemanager.page)}" escape="false"/>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{ceb.pagemanager.page == 2}">
                                        <h:outputText value="#{uiLayout.getPageInfo(ceb.pagemanager.page)}" escape="false"/>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{ceb.pagemanager.page == 3}">
                                        <h:outputText value="#{uiLayout.getPageInfo(ceb.pagemanager.page)}" escape="false"/>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{ceb.pagemanager.page == 4}">
                                        <h:outputText value="#{uiLayout.getPageInfo(ceb.pagemanager.page)}" escape="false"/>
                                    </ui:fragment>
                                    <ui:fragment rendered="#{ceb.pagemanager.page == 5}">
                                        <h:outputText value="#{uiLayout.getPageInfo(ceb.pagemanager.page)}" escape="false"/>
                                    </ui:fragment>

                                    <div class="EmptyBox10"></div>
                                    <h:outputText value="#{uiLayout.disclaimer}" escape="false"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </p:outputPanel>


        </h:form>


    </ui:define>

</ui:composition>
